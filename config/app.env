# ==================== Basic Application Configuration ====================
# Project name
# PROJECT_NAME="MitmPilot"
# Domain name format; https://movie-pilot.org
# APP_DOMAIN=""
# API path
# API_V1_STR="/api/v1"
# Timezone
# TZ="Asia/Shanghai"
# API listening address
HOST="0.0.0.0"
# API listening port
PORT=6006
# Whether in development mode
# DEV=False
# Plugin class name under development
# DEV_ADDON=
# Plugin folder
# ADDON_FOLDER="addons"

# ==================== Security Authentication Configuration ====================
# Secret key (auto-generated if not set)
# SECRET_KEY="<auto-generated>"
# Resource secret key (auto-generated if not set)
# RESOURCE_SECRET_KEY="<auto-generated>"
# Allowed hosts (comma-separated, e.g., "localhost,example.com")
# ALLOWED_HOSTS="*"
# TOKEN expiration time (minutes)
# ACCESS_TOKEN_EXPIRE_MINUTES=1440
# RESOURCE_TOKEN expiration time (seconds)
# RESOURCE_ACCESS_TOKEN_EXPIRE_SECONDS=1800
# Superuser initial username
# SUPERUSER="admin"
# Superuser initial password
# SUPERUSER_PASSWORD=
# Auxiliary authentication, allowing authentication through external services, single sign-on, and automatic user creation.
# AUXILIARY_AUTH_ENABLE=False
# API key, needs to be changed
# API_TOKEN=
# User authentication site
# AUTH_SITE=""
# Certificate filename
# CERT_FILENAME="mitmproxy-ca-cert.pem"

# ==================== Database Configuration ====================
# Database type, supports sqlite and postgresql, sqlite is used by default.
# DB_TYPE="sqlite"
# Whether to output SQL statements in the console, disabled by default.
# DB_ECHO=False
# Database connection timeout (seconds), defaults to 60 seconds.
# DB_TIMEOUT=60
# Whether to enable WAL mode, only for SQLite, enabled by default.
# DB_WAL_ENABLE=True
# Database connection pool type, QueuePool, NullPool
# DB_POOL_TYPE="QueuePool"
# Whether to pre-ping when getting a connection.
# DB_POOL_PRE_PING=True
# Database connection recycle time (seconds)
# DB_POOL_RECYCLE=300
# Database connection pool timeout for getting a connection (seconds)
# DB_POOL_TIMEOUT=30
# SQLite connection pool size
# DB_SQLITE_POOL_SIZE=10
# SQLite connection pool overflow quantity
# DB_SQLITE_MAX_OVERFLOW=50
# PostgreSQL host address
# DB_POSTGRESQL_HOST="localhost"
# PostgreSQL port
# DB_POSTGRESQL_PORT=5432
# PostgreSQL database name
# DB_POSTGRESQL_DATABASE="mitmpilot"
# PostgreSQL username
# DB_POSTGRESQL_USERNAME="mitmpilot"
# PostgreSQL password
# DB_POSTGRESQL_PASSWORD="mitmpilot"
# PostgreSQL connection pool size
# DB_POSTGRESQL_POOL_SIZE=10
# PostgreSQL connection pool overflow quantity
# DB_POSTGRESQL_MAX_OVERFLOW=50

# ==================== Cache Configuration ====================
# Cache type, supports cachetools and redis, cachetools is used by default.
# CACHE_BACKEND_TYPE="cachetools"
# Cache connection string, only required for external caches (e.g., Redis, Memcached).
# CACHE_BACKEND_URL="redis://localhost:6379"
# Redis cache max memory limit, if not configured, it's "1024mb" when large memory mode is enabled, and "256mb" when not enabled.
# CACHE_REDIS_MAXMEMORY=1024mb
# Temporary file retention days
# TEMP_FILE_DAYS=3
# Metadata recognition cache expiration time (hours), 0 for automatic.
# META_CACHE_EXPIRE=0

# ==================== Plugin Configuration ====================
# Plugin installation data sharing
# PLUGIN_STATISTIC_SHARE=True
# Upstream proxy
# UPSTREAM_PROXY=""

# ==================== Github & PIP ====================
# Github token, to increase API rate limit threshold ghp_****
# GITHUB_TOKEN=

# ==================== Service Address Configuration ====================
# MP_SERVER_HOST="https://mitmpilot.com"

# ==================== Network Proxy Configuration ====================
# Network proxy server address
# PROXY_HOST=

# ==================== Mitmproxy Dynamic Options ====================
#
# To configure mitmproxy, use environment variables with the prefix 'MITMOPTS_'.
# The part of the variable name after the prefix will be treated as the mitmproxy option name.
#
# For a full list of available options, please refer to the mitmproxy documentation:
# https://docs.mitmproxy.org/stable/concepts/options/
#
# --- Examples ---
#
# Set the connection strategy (string)
MITMOPTS_CONNECTION_STRATEGY="lazy"
# Add all certificates of the upstream server to the certificate chain.
# MITMOPTS_ADD_UPSTREAM_CERTS_TO_CLIENT_CHAIN=False
# Opposite of --ignore-hosts. (comma-separated)
# MITMOPTS_ALLOW_HOSTS=
# Strip out request headers that might cause 304-not-modified.
# MITMOPTS_ANTICACHE=False
# Try to convince servers to send us un-compressed data.
# MITMOPTS_ANTICOMP=False
# Block connections from public IP addresses.
# MITMOPTS_BLOCK_GLOBAL=True
# Block matching requests and return an empty response. (comma-separated)
# MITMOPTS_BLOCK_LIST=
# Block connections from local (private) IP addresses.
# MITMOPTS_BLOCK_PRIVATE=False
# Byte size limit of HTTP request and response bodies.
# MITMOPTS_BODY_SIZE_LIMIT=
# Passphrase for decrypting the private key in --cert.
# MITMOPTS_CERT_PASSPHRASE=
# SSL certificates of the form "[domain=]path". (comma-separated)
# MITMOPTS_CERTS=
# Set supported ciphers for client <-> mitmproxy connections.
# MITMOPTS_CIPHERS_CLIENT=
# Set supported ciphers for mitmproxy <-> server connections.
# MITMOPTS_CIPHERS_SERVER=
# Client certificate file or directory.
# MITMOPTS_CLIENT_CERTS=
# Replay client requests from a saved file. (comma-separated)
# MITMOPTS_CLIENT_REPLAY=
# Concurrency limit on in-flight client replay requests.
# MITMOPTS_CLIENT_REPLAY_CONCURRENCY=1
# Persist command history between mitmproxy invocations.
# MITMOPTS_COMMAND_HISTORY=True
# Location of the default mitmproxy configuration files.
# MITMOPTS_CONFDIR=
# Set the local IP address for connecting to upstream servers.
# MITMOPTS_CONNECT_ADDR=
# Determine when server connections should be established.
# MITMOPTS_CONNECTION_STRATEGY="eager"
# Flow content view lines limit.
# MITMOPTS_CONTENT_VIEW_LINES_CUTOFF=512
# Name servers to use for lookups. (comma-separated)
# MITMOPTS_DNS_NAME_SERVERS=
# Use the hosts file for DNS lookups.
# MITMOPTS_DNS_USE_HOSTS_FILE=True
# The default content view mode.
# MITMOPTS_DUMPER_DEFAULT_CONTENTVIEW="auto"
# Limit which flows are dumped.
# MITMOPTS_DUMPER_FILTER=
# Effort to connect to the same IP as in the original request.
# MITMOPTS_EXPORT_PRESERVE_ORIGINAL_IP=False
# The display detail level for flows in mitmdump.
# MITMOPTS_FLOW_DETAIL=1
# Save a HAR file with all flows on exit.
# MITMOPTS_HARDUMP=""
# Enable/disable HTTP/2 support.
# MITMOPTS_HTTP2=True
# Send a PING frame on idle HTTP/2 connections.
# MITMOPTS_HTTP2_PING_KEEPALIVE=58
# Enable/disable support for QUIC and HTTP/3.
# MITMOPTS_HTTP3=True
# Include host header with CONNECT requests.
# MITMOPTS_HTTP_CONNECT_SEND_HOST_HEADER=True
# Ignore host and forward all traffic without processing it. (comma-separated)
# MITMOPTS_IGNORE_HOSTS=
# Keep Alt-Svc headers as-is.
# MITMOPTS_KEEP_ALT_SVC_HEADER=False
# Keep the original host header.
# MITMOPTS_KEEP_HOST_HEADER=False
# Continue serving after client playback, server playback or file read.
# MITMOPTS_KEEPSERVING=False
# TLS key size for certificates and CA.
# MITMOPTS_KEY_SIZE=2048
# Address to bind proxy server(s) to.
# MITMOPTS_LISTEN_HOST="0.0.0.0"
# Port to bind proxy server(s) to.
# MITMOPTS_LISTEN_PORT=
# Map remote resources to a local file. (comma-separated)
# MITMOPTS_MAP_LOCAL=
# Map remote resources to another remote URL. (comma-separated)
# MITMOPTS_MAP_REMOTE=
# The proxy server type(s) to spawn. (comma-separated)
# MITMOPTS_MODE="regular"
# Replacement pattern for request/response bodies. (comma-separated)
# MITMOPTS_MODIFY_BODY=
# Header modify pattern. (comma-separated)
# MITMOPTS_MODIFY_HEADERS=
# Normalize outgoing HTTP/2 header names.
# MITMOPTS_NORMALIZE_OUTBOUND_HEADERS=True
# Toggle the mitmproxy onboarding app.
# MITMOPTS_ONBOARDING=True
# Onboarding app domain.
# MITMOPTS_ONBOARDING_HOST="mitm.it"
# Path to a .proto file for resolving Protobuf field names.
# MITMOPTS_PROTOBUF_DEFINITIONS=
# Enable debug logs in the proxy core.
# MITMOPTS_PROXY_DEBUG=False
# Require proxy authentication.
# MITMOPTS_PROXYAUTH=
# Enable/disable raw TCP connections.
# MITMOPTS_RAWTCP=True
# Read only matching flows.
# MITMOPTS_READFILE_FILTER=
# Request a client certificate.
# MITMOPTS_REQUEST_CLIENT_CERT=False
# Read flows from file.
# MITMOPTS_RFILE=
# Stream flows to file as they arrive.
# MITMOPTS_SAVE_STREAM_FILE=
# Filter which flows are written to file.
# MITMOPTS_SAVE_STREAM_FILTER=
# Execute a script. (comma-separated)
# MITMOPTS_SCRIPTS=
# Start a proxy server.
# MITMOPTS_SERVER=True
# Replay server responses from a saved file. (comma-separated)
# MITMOPTS_SERVER_REPLAY=
# Behavior for extra requests during replay.
# MITMOPTS_SERVER_REPLAY_EXTRA="forward"
# Ignore request content while searching for a saved flow to replay.
# MITMOPTS_SERVER_REPLAY_IGNORE_CONTENT=False
# Ignore request destination host while searching for a saved flow to replay.
# MITMOPTS_SERVER_REPLAY_IGNORE_HOST=False
# Request parameters to be ignored while searching for a saved flow to replay. (comma-separated)
# MITMOPTS_SERVER_REPLAY_IGNORE_PARAMS=
# Request payload parameters to be ignored while searching for a saved flow to replay. (comma-separated)
# MITMOPTS_SERVER_REPLAY_IGNORE_PAYLOAD_PARAMS=
# Ignore request destination port while searching for a saved flow to replay.
# MITMOPTS_SERVER_REPLAY_IGNORE_PORT=False
# Kill extra requests during replay.
# MITMOPTS_SERVER_REPLAY_KILL_EXTRA=False
# Deprecated alias for `server_replay_reuse`.
# MITMOPTS_SERVER_REPLAY_NOPOP=False
# Refresh server replay responses by adjusting date, expires and last-modified headers.
# MITMOPTS_SERVER_REPLAY_REFRESH=True
# Don't remove flows from server replay state after use.
# MITMOPTS_SERVER_REPLAY_REUSE=False
# Request headers that need to match while searching for a saved flow to replay. (comma-separated)
# MITMOPTS_SERVER_REPLAY_USE_HEADERS=
# Record ignored flows in the UI.
# MITMOPTS_SHOW_IGNORED_HOSTS=False
# Use the Host header to construct URLs for display.
# MITMOPTS_SHOWHOST=False
# Do not verify upstream server SSL/TLS certificates.
# MITMOPTS_SSL_INSECURE=False
# Path to a PEM formatted trusted CA certificate.
# MITMOPTS_SSL_VERIFY_UPSTREAM_TRUSTED_CA=
# Path to a directory of trusted CA certificates.
# MITMOPTS_SSL_VERIFY_UPSTREAM_TRUSTED_CONFDIR=
# Set sticky auth filter.
# MITMOPTS_STICKYAUTH=
# Set sticky cookie filter.
# MITMOPTS_STICKYCOOKIE=
# Store HTTP request and response bodies when streamed.
# MITMOPTS_STORE_STREAMED_BODIES=False
# Stream data to the client if body exceeds the given threshold.
# MITMOPTS_STREAM_LARGE_BODIES=
# Strip Encrypted ClientHello (ECH) data from DNS HTTPS records.
# MITMOPTS_STRIP_ECH=True
# Generic TCP SSL proxy mode for all hosts that match the pattern. (comma-separated)
# MITMOPTS_TCP_HOSTS=
# Log verbosity.
# MITMOPTS_TERMLOG_VERBOSITY="info"
# Use a specific elliptic curve for ECDHE key exchange on client connections.
# MITMOPTS_TLS_ECDH_CURVE_CLIENT=
# Use a specific elliptic curve for ECDHE key exchange on server connections.
# MITMOPTS_TLS_ECDH_CURVE_SERVER=
# Set the maximum TLS version for client connections.
# MITMOPTS_TLS_VERSION_CLIENT_MAX="UNBOUNDED"
# Set the minimum TLS version for client connections.
# MITMOPTS_TLS_VERSION_CLIENT_MIN="TLS1_2"
# Set the maximum TLS version for server connections.
# MITMOPTS_TLS_VERSION_SERVER_MAX="UNBOUNDED"
# Set the minimum TLS version for server connections.
# MITMOPTS_TLS_VERSION_SERVER_MIN="TLS1_2"
# Generic UDP SSL proxy mode for all hosts that match the pattern. (comma-separated)
# MITMOPTS_UDP_HOSTS=
# Add HTTP Basic authentication to upstream proxy requests.
# MITMOPTS_UPSTREAM_AUTH=
# Connect to upstream server to look up certificate details.
# MITMOPTS_UPSTREAM_CERT=True
# Make sure that incoming HTTP requests are not malformed.
# MITMOPTS_VALIDATE_INBOUND_HEADERS=True
# Enable/disable WebSocket support.
# MITMOPTS_WEBSOCKET=True